# NTRIP Caster 1000连接极限测试报告

## 测试概述

**测试时间**: 2025年8月4日 11:38:07 - 11:41:59  
**测试持续时间**: 约3分52秒  
**测试类型**: 1000并发连接极限压力测试  
**系统配置**: 最大连接数5000，线程池大小5000  

## 测试环境

- **服务器地址**: 192.168.1.4
- **NTRIP端口**: 2101
- **Web管理端口**: 5757
- **挂载点**: RTKGL, RTKHL
- **系统内存**: 31.9GB
- **最大连接配置**: 5000
- **线程池配置**: 5000

## 关键性能指标

### 连接性能
- **峰值并发连接**: 1002/5000 (达到目标1000连接)
- **总连接数**: 1003
- **连接拒绝数**: 0
- **连接成功率**: 99.9%
  
### 系统资源使用
- **峰值CPU使用率**: 19.1%
- **峰值内存使用**: 33.9% (10.8GB / 31.9GB)
- **基准CPU使用率**: 1.7-2.2%
- **基准内存使用**: 33.5% (10.7GB / 31.9GB)
AMD 5600 6核12线程 31.9GB总内存
### 网络性能
- **峰值网络带宽**: 10.79 Mbps (上行9.73 Mbps, 下行1.07 Mbps)
- **基准网络带宽**: 0.08-0.50 Mbps
- **数据传输总量**: 0.62 MB

### 挂载点状态
- **RTKGL**: 541用户连接，2226数据包，状态validated
- **RTKHL**: 459用户连接，325数据包，状态validated

## 分阶段测试分析

### 第一阶段：系统启动 (0-30秒)
- 系统成功启动，所有服务正常运行
- 线程池和连接队列正确配置为5000
- 挂载点RTKGL和RTKHL开始接收数据
- 初始状态：2个活跃连接，CPU 6.0%，内存 32.3%

### 第二阶段：连接建立期 (30秒-2分46秒)
- 1000个客户端连接快速建立
- 连接成功率接近100%
- 系统负载逐步上升但保持稳定
- 挂载点RTKHL完成RTCM解析，生成完整STR表

### 第三阶段：峰值负载期 (2分46秒-3分19秒)
- **活跃连接**: 1002/5000
- **用户连接**: 1000个
- **CPU使用率**: 9.6%
- **内存使用**: 33.1%
- **网络带宽**: 10.79 Mbps
- 系统在高负载下运行稳定，无连接丢失

### 第四阶段：连接断开期 (3分19秒)
- 所有测试连接快速断开
- 系统从1000连接瞬间降至0连接
- 断开过程平滑，无异常错误

### 第五阶段：恢复稳定期 (3分19秒-3分52秒)
- **活跃连接**: 2/5000 (仅基础连接)
- **CPU使用率**: 1.7-19.1% (逐步降低)
- **内存使用**: 33.5-33.9%
- **网络带宽**: 0.08-0.50 Mbps
- 系统快速恢复到基准状态

## 技术特点

1. **高并发处理能力**: 成功处理1000个并发连接，连接成功率99.9%
2. **资源利用效率**: CPU峰值使用率仅19.1%，内存使用稳定在33%左右
3. **网络处理能力**: 峰值带宽10.79 Mbps，数据传输稳定
4. **快速恢复能力**: 测试结束后系统立即恢复到基准状态
5. **负载均衡**: RTKGL和RTKHL挂载点负载分布合理(541:459)

### 系统稳定性
1. **零连接拒绝**: 在1000连接测试中无任何连接被拒绝
2. **无异常错误**: 除统计格式化的小问题外，无系统级错误
3. **数据完整性**: 所有挂载点数据传输正常，RTCM解析完整
4. **内存管理**: 内存使用稳定，无内存泄漏迹象


---

**测试完成时间**: 2025年8月4日 11:42:00  

